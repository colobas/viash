extra: |-
  # Script shamelessly copied from https://github.com/datacamp/datacamp_facebook_live_intro_to_tidyverse
  # From the tutorial here: https://www.datacamp.com/community/tutorials/tidyverse-tutorial-r

  library(magrittr)
  library(tidyverse)
  library(optparse)

  args = commandArgs(trailingOnly=TRUE)

  parser <-
      OptionParser(usage = "")  %>%
      add_option("--input", type = "character", help = "") %>%
      add_option("--output", type = "character", help = "") %>%
      add_option("--gender", type = "character", help = "")

  parsed_args <- parse_args(parser, args = args)

  # Import data
  passengers <- read.csv(parsed_args$input)

  # Summarize titanic
  summary(passengers)

  passengers %>%
    filter(Sex == parsed_args$gender) %>%
    write.csv(parsed_args$output)
